<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Warren&#39;s</title>
    <meta name="description" content="blog &amp; note">
    <link rel="icon" href="/blog/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.fe5bdb75.css" as="style"><link rel="preload" href="/blog/assets/js/app.a3fab05b.js" as="script"><link rel="preload" href="/blog/assets/js/2.8013534f.js" as="script"><link rel="preload" href="/blog/assets/js/55.9e8b945b.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.53ff2caf.js"><link rel="prefetch" href="/blog/assets/js/11.4935f015.js"><link rel="prefetch" href="/blog/assets/js/12.d6ae9e0a.js"><link rel="prefetch" href="/blog/assets/js/13.26cdd5ab.js"><link rel="prefetch" href="/blog/assets/js/14.074ed238.js"><link rel="prefetch" href="/blog/assets/js/15.cc53453a.js"><link rel="prefetch" href="/blog/assets/js/16.b1284d0a.js"><link rel="prefetch" href="/blog/assets/js/17.4451e3ed.js"><link rel="prefetch" href="/blog/assets/js/18.fbfbe9e1.js"><link rel="prefetch" href="/blog/assets/js/19.a60c4380.js"><link rel="prefetch" href="/blog/assets/js/20.5f5ca6bc.js"><link rel="prefetch" href="/blog/assets/js/21.8c354d40.js"><link rel="prefetch" href="/blog/assets/js/22.75f55fe6.js"><link rel="prefetch" href="/blog/assets/js/23.42ffa285.js"><link rel="prefetch" href="/blog/assets/js/24.adc41ea1.js"><link rel="prefetch" href="/blog/assets/js/25.e4d38764.js"><link rel="prefetch" href="/blog/assets/js/26.a3d230e3.js"><link rel="prefetch" href="/blog/assets/js/27.a783e661.js"><link rel="prefetch" href="/blog/assets/js/28.45f84a32.js"><link rel="prefetch" href="/blog/assets/js/29.ea384f66.js"><link rel="prefetch" href="/blog/assets/js/3.0b9ab56a.js"><link rel="prefetch" href="/blog/assets/js/30.1eb368ef.js"><link rel="prefetch" href="/blog/assets/js/31.9cf92f36.js"><link rel="prefetch" href="/blog/assets/js/32.8a7922cd.js"><link rel="prefetch" href="/blog/assets/js/33.315363ce.js"><link rel="prefetch" href="/blog/assets/js/34.bd4f53bc.js"><link rel="prefetch" href="/blog/assets/js/35.0123bb2b.js"><link rel="prefetch" href="/blog/assets/js/36.71f578fd.js"><link rel="prefetch" href="/blog/assets/js/37.ccf0be9f.js"><link rel="prefetch" href="/blog/assets/js/38.7103d33c.js"><link rel="prefetch" href="/blog/assets/js/39.b0fcef4a.js"><link rel="prefetch" href="/blog/assets/js/4.df9f6661.js"><link rel="prefetch" href="/blog/assets/js/40.42d79263.js"><link rel="prefetch" href="/blog/assets/js/41.a1891a81.js"><link rel="prefetch" href="/blog/assets/js/42.6820b732.js"><link rel="prefetch" href="/blog/assets/js/43.8d06ba2d.js"><link rel="prefetch" href="/blog/assets/js/44.edc3bd7b.js"><link rel="prefetch" href="/blog/assets/js/45.c6fbde69.js"><link rel="prefetch" href="/blog/assets/js/46.b337f6f4.js"><link rel="prefetch" href="/blog/assets/js/47.147e7400.js"><link rel="prefetch" href="/blog/assets/js/48.40546c7a.js"><link rel="prefetch" href="/blog/assets/js/49.57b44b08.js"><link rel="prefetch" href="/blog/assets/js/5.7ed68ab8.js"><link rel="prefetch" href="/blog/assets/js/50.6c7a2ef7.js"><link rel="prefetch" href="/blog/assets/js/51.a438fdcf.js"><link rel="prefetch" href="/blog/assets/js/52.cd31c8f7.js"><link rel="prefetch" href="/blog/assets/js/53.bd9b693e.js"><link rel="prefetch" href="/blog/assets/js/54.c01272c2.js"><link rel="prefetch" href="/blog/assets/js/56.9a35b94e.js"><link rel="prefetch" href="/blog/assets/js/57.92abf2a4.js"><link rel="prefetch" href="/blog/assets/js/58.2312acf4.js"><link rel="prefetch" href="/blog/assets/js/59.a930f904.js"><link rel="prefetch" href="/blog/assets/js/6.f9aed550.js"><link rel="prefetch" href="/blog/assets/js/60.813d2a6b.js"><link rel="prefetch" href="/blog/assets/js/61.936354b2.js"><link rel="prefetch" href="/blog/assets/js/62.a6c2dad3.js"><link rel="prefetch" href="/blog/assets/js/63.02d34422.js"><link rel="prefetch" href="/blog/assets/js/64.c3af1168.js"><link rel="prefetch" href="/blog/assets/js/65.4eed627a.js"><link rel="prefetch" href="/blog/assets/js/66.aa0f1bec.js"><link rel="prefetch" href="/blog/assets/js/67.2d16bb94.js"><link rel="prefetch" href="/blog/assets/js/68.c340f9db.js"><link rel="prefetch" href="/blog/assets/js/69.65e09da6.js"><link rel="prefetch" href="/blog/assets/js/7.9b5ca983.js"><link rel="prefetch" href="/blog/assets/js/70.ec19ec06.js"><link rel="prefetch" href="/blog/assets/js/71.88b52d32.js"><link rel="prefetch" href="/blog/assets/js/72.4d28525b.js"><link rel="prefetch" href="/blog/assets/js/73.6854e1be.js"><link rel="prefetch" href="/blog/assets/js/74.8fee1f77.js"><link rel="prefetch" href="/blog/assets/js/75.46242a0a.js"><link rel="prefetch" href="/blog/assets/js/76.b30b0bf4.js"><link rel="prefetch" href="/blog/assets/js/77.a732f835.js"><link rel="prefetch" href="/blog/assets/js/78.0f8806f5.js"><link rel="prefetch" href="/blog/assets/js/8.6467c411.js"><link rel="prefetch" href="/blog/assets/js/9.0289db1f.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.fe5bdb75.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/logo.png" alt="Warren's" class="logo"> <span class="site-name can-hide">Warren's</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/fe/" class="nav-link">前端</a></div><div class="nav-item"><a href="/blog/be/" class="nav-link">后端</a></div><div class="nav-item"><a href="/blog/note/" class="nav-link router-link-active">笔记</a></div><div class="nav-item"><a href="/blog/other/" class="nav-link">其它</a></div><div class="nav-item"><a href="https://github.com/WarrenHewitt" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>语言学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/language/javascript.html" class="active sidebar-link">javascript</a></li><li><a href="/blog/note/language/html.html" class="sidebar-link">html</a></li><li><a href="/blog/note/language/css.html" class="sidebar-link">css</a></li><li><a href="/blog/note/language/react.html" class="sidebar-link">react</a></li><li><a href="/blog/note/language/vue.html" class="sidebar-link">vue</a></li><li><a href="/blog/note/language/web-app.html" class="sidebar-link">web-app</a></li><li><a href="/blog/note/language/typescript.html" class="sidebar-link">typescript</a></li><li><a href="/blog/note/language/mini-programe.html" class="sidebar-link">mini-programe</a></li><li><a href="/blog/note/language/node.html" class="sidebar-link">node</a></li><li><a href="/blog/note/language/java.html" class="sidebar-link">java</a></li><li><a href="/blog/note/language/python.html" class="sidebar-link">python</a></li><li><a href="/blog/note/language/mysql-mongo.html" class="sidebar-link">mysql-mongo</a></li><li><a href="/blog/note/language/nginx.html" class="sidebar-link">nginx</a></li><li><a href="/blog/note/language/docker.html" class="sidebar-link">docker</a></li><li><a href="/blog/note/language/git.html" class="sidebar-link">git</a></li><li><a href="/blog/note/language/D3.html" class="sidebar-link">D3</a></li><li><a href="/blog/note/language/threeJs.html" class="sidebar-link">threeJs</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/comprehensive/canvasAndSvg.html" class="sidebar-link">canvas和svg相关用法</a></li><li><a href="/blog/note/comprehensive/examination.html" class="sidebar-link">笔试</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/note/algorithm/algorithm.html" class="sidebar-link">算法实践</a></li><li><a href="/blog/note/algorithm/sort.html" class="sidebar-link">常见排序算法原理及JS代码实现</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p></p><div class="table-of-contents"><ul><li><a href="#javascript">Javascript</a><ul><li><a href="#cookie">cookie</a></li><li><a href="#window">window</a></li><li><a href="#object">Object</a></li><li><a href="#循环">循环</a></li><li><a href="#事件">事件</a></li><li><a href="#array">Array</a></li><li><a href="#function">Function</a></li><li><a href="#string">String</a></li></ul></li><li><a href="#es6">es6</a><ul><li><a href="#字符串">字符串</a></li><li><a href="#class">class</a></li><li><a href="#promise">Promise</a></li><li><a href="#map-weakmap-set-weakset">Map/Weakmap Set/Weakset</a></li><li><a href="#函数">函数</a></li><li><a href="#扩展运算符">扩展运算符</a></li><li><a href="#模块功能">模块功能</a></li><li><a href="#函数扩展">函数扩展</a></li><li><a href="#数组的扩展">数组的扩展</a></li><li><a href="#proxy-defineproperty-defineproperties">Proxy | defineProperty | defineProperties</a></li><li><a href="#object-create-proto-propertiesobject">Object.create(proto, [propertiesObject])</a></li><li><a href="#装饰器-decorator">装饰器 Decorator</a></li></ul></li><li><a href="#es7-es8">ES7-ES8</a><ul><li><a href="#es7">es7</a></li><li><a href="#es8">es8</a></li><li><a href="#es2019">es2019</a></li></ul></li></ul></div> <div class="table-of-contents"><ul><li><a href="#javascript">Javascript</a><ul><li><a href="#cookie">cookie</a></li><li><a href="#window">window</a></li><li><a href="#object">Object</a></li><li><a href="#循环">循环</a></li><li><a href="#事件">事件</a></li><li><a href="#array">Array</a></li><li><a href="#function">Function</a></li><li><a href="#string">String</a></li></ul></li><li><a href="#es6">es6</a><ul><li><a href="#字符串">字符串</a></li><li><a href="#class">class</a></li><li><a href="#promise">Promise</a></li><li><a href="#map-weakmap-set-weakset">Map/Weakmap Set/Weakset</a></li><li><a href="#函数">函数</a></li><li><a href="#扩展运算符">扩展运算符</a></li><li><a href="#模块功能">模块功能</a></li><li><a href="#函数扩展">函数扩展</a></li><li><a href="#数组的扩展">数组的扩展</a></li><li><a href="#proxy-defineproperty-defineproperties">Proxy | defineProperty | defineProperties</a></li><li><a href="#object-create-proto-propertiesobject">Object.create(proto, [propertiesObject])</a></li><li><a href="#装饰器-decorator">装饰器 Decorator</a></li></ul></li><li><a href="#es7-es8">ES7-ES8</a><ul><li><a href="#es7">es7</a></li><li><a href="#es8">es8</a></li><li><a href="#es2019">es2019</a></li></ul></li></ul></div><p></p> <h2 id="javascript"><a href="#javascript" class="header-anchor">#</a> Javascript</h2> <hr> <p>动、静态语言： 声明的变量是否可以存储不同类型的值，在编译阶段会检测类型</p> <p>强、弱类型语言： 其产物是，是否允许不同类型值之间进行计算</p> <p>js(动态弱类型语言)</p> <p>c|c++ 编译型语言 将程序编译成机器语言</p> <p>java python 解释型语言（java 将程序编译成字节码：理解为一种中间语言，再由JVM将字节码再翻译成机器语言）</p> <hr> <ul><li><p>void 运算符 对给定的表达式进行求值，然后返回 undefined</p></li> <li><p>放在运算符中的函数声明  在执行阶段是是找不到的  <code>if(function a() {}) { 找不到 a }</code></p></li></ul> <hr> <ul><li>全局变量 防止未定义 请用window.variable调用 如果不加window可导致报错，阻塞后续代码执行</li></ul> <hr> <ul><li>console 输出占位符</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'String: %s, Int: %d,Float: %f, Object: %o'</span><span class="token punctuation">,</span> <span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1.23</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">'name'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'%c红色%c绿色%c蓝色'</span><span class="token punctuation">,</span> <span class="token string">'color:red'</span><span class="token punctuation">,</span><span class="token string">'color:green'</span><span class="token punctuation">,</span> <span class="token string">'color:blue'</span><span class="token punctuation">)</span>
<span class="token comment">// %c后要加空格，padding和line-height实测有效；兼容性不好，谷歌基本都支持</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'%c '</span><span class="token punctuation">,</span> <span class="token string">'padding:0 1000px;line-height:1000px;background:url(httpxxxx) no-repeat'</span><span class="token punctuation">)</span> 

<span class="token operator">&gt;</span> location
<span class="token operator">&gt;</span> <span class="token function">copy</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
<span class="token operator">&gt;</span> ctrl <span class="token operator">+</span> c  <span class="token comment">// 输出拷贝的 location</span>
</code></pre></div><p>console.trace() 输出一个堆栈跟踪</p> <hr> <ul><li>let 是块作用域，一个函数或一个for或if语句中，其定义的值并不会挂载到window上</li> <li>const 常量索引 只可以在声明的时候赋值 变量名在内存中的指针不会变，但是指向这个变量的值可以变</li></ul> <p>实现 let</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span><span class="token number">10</span> <span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// i is not defined</span>

<span class="token comment">// 实现, 换一个变量名</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> _i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> _i<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">;</span> _i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> <span class="token comment">// i is not defined</span>

</code></pre></div><p>实现 const (原理：将其设置为window的属性时，重置其读写权限)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">constFn</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
        enumerable<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> value
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'Assignment to constant variable.'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token function">constFn</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'hew'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
name <span class="token operator">=</span> <span class="token string">'new name'</span>
</code></pre></div><hr> <ul><li>Web Worker 提供了在后台非主线程执行 JavaScript 代码的能力</li></ul> <p>不会阻塞main.js 中代码的执行，否则会一直等待循环执行完毕才会执行下面的代码</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// main.js</span>
<span class="token keyword">var</span> worker <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Worker</span><span class="token punctuation">(</span><span class="token string">'./index.js'</span><span class="token punctuation">)</span>
worker<span class="token punctuation">.</span><span class="token function-variable function">postMessage</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// index.js</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> n <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>n<span class="token operator">&gt;</span><span class="token number">.99999999</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">postMessage</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <p><strong>节点操作</strong></p> <ul><li>注意Element 与 Node 区别</li> <li>当把获取到的节点添加到DOM中的另外一个地方时，原位置的节点没有了，移动到文档片段也是同理；相当于移动节点位置</li></ul> <hr> <p><strong>document.createDocumentFragment()</strong></p> <ul><li>创建新的文档片段</li> <li>DocumentFragments 是属于DOM节点的</li></ul> <hr> <p><strong>MutationObserver 监听DOM是否被修改</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MutationObserver</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//这里是回调函数</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'DOM被修改了！'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> article <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'i12'</span><span class="token punctuation">)</span>
obs<span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span>article<span class="token punctuation">,</span> <span class="token punctuation">{</span> attributes<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> childList<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> subtree<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 打开注释可发现回调被执行</span>
<span class="token comment">// article.innerHTML = '123'</span>
</code></pre></div><hr> <p>zepto.min.js 加载新的模块  直接在 https://github.com/madrobby/zepto/tree/master/src 将需要的模块拷贝到min.js中</p> <hr> <p><strong>try catch finaly</strong></p> <ul><li>如果catch和finally中再抛出异常需要外部再添加try-catch</li> <li>它们任意一个中有return，都会阻塞其后续函数体内容执行，返回值会作为函数返回值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">try</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里没有作用域  只有参数有个相对的作用域</span>
<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
    <span class="token comment">// 无论是否有异常，finally中的语句都会执行，即使try，catch中有return</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>throw 方法：</strong></p> <p>throw 表达式</p> <p>抛出的值可以是字符串，数字，布尔值，对象</p> <p>用此方法抛出错误，后续的代码将不会执行，错误会被catch捕获，如果没有catch将其捕获，程序将终止</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 抛出一个自定义的对象</span>
<span class="token keyword">class</span> <span class="token class-name">ValidateError</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'validateError'</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>msg <span class="token operator">=</span> msg<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">try</span><span class="token punctuation">{</span>
    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ValidateError</span><span class="token punctuation">(</span><span class="token string">'throw error'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">catch</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>msg<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token punctuation">.</span>name<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span> <span class="token comment">// throw error-validateError</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>new Error([message[, fileName[, lineNumber]]])</code></p> <ul><li>chrome 不支持后两个参数</li> <li>用new和不用，输出的结果一样</li> <li>还有其它类型错误：ReferenceError（引用错误）,TypeError(类型错误)，RangeError(范围错误) 等</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> err <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'909090'</span><span class="token punctuation">)</span>
err<span class="token punctuation">.</span>code <span class="token operator">=</span> <span class="token number">56</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// { code: 56 }</span>

<span class="token comment">// axios 的错误也是类似的封装 https://github.com/axios/axios/blob/master/lib/core/enhanceError.js</span>
</code></pre></div><hr> <p><strong>setTimeout | setInterval</strong></p> <ul><li>setInterval 一定要确认清除</li> <li>第三个及之后的参数都作为回调函数的参数</li> <li>同时设置时间0  哪个代码在前 执行哪个</li></ul> <p><strong>requestAnimationFrame</strong></p> <blockquote><p><a href="https://codepen.io/Hewitt/pen/VgZapr" target="_blank" rel="noopener noreferrer">示例：<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ul><li>回调函数在重绘前调用</li> <li>浏览器频率是16.7ms(1s/60)，setTime设置时间小于这个值时会出现帧丢失的情况</li> <li>而requestAnimationFrame是不用设置时间的，设备的时间绘制间隔是好久，它就是好久</li> <li>当页面没有激活的时候，它会被停止调用，而 setTimeOut 不会</li> <li>回调函数：有一个参数，就是触发该函数的当前时间，可以打印出来</li></ul> <hr> <p><strong>表达式</strong></p> <p>是由运算元和运算符(可选)构成，并产生运算结果的语法结构(了解即可，不必纠结).</p> <ul><li>所有的表达式都有返回值(没有返回undefined)</li> <li>函数调用是表达式</li> <li>this, null, arguments,变量，字面量（仅包括数字、布尔值、字符串、正则字面量）</li> <li>逗号表达式 <code>some = (1+1, 2+3, 9-8)</code>  给some 赋值 1，因为返回的是最后一个逗号后的计算值，注意这如果不加括号返回2</li></ul> <p><strong>语句</strong></p> <ul><li>典型的有循环语句和if语句，</li> <li>使某事发生的指令，没有返回值</li> <li>也可以是由大括号括起来的复合语句</li></ul> <hr> <ul><li>ready 与 onload 的区别</li></ul> <p><code>$(document).ready()</code>是在DOM结构载入完后执行的，而window.onload是在所有文件都加载完后执行的</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 原生实现ready</span>
<span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>addEventListener<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'readystatechange'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//IE9+</span>
    window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span>attachEvent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onreadystatechange'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span><span class="token string">'onload'</span><span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//注销事件, 避免反复触发</span>
    document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'DOMContentLoaded'</span><span class="token punctuation">,</span>arguments<span class="token punctuation">.</span>callee<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <ul><li>正序遍历与反序遍历：反序更快 <code>for(var i＝item.length; i--; )</code> 注意最后的分号,该方法会从length-1开始</li></ul> <hr> <p><strong>continue | break | return  区分</strong></p> <ul><li><p>break,continue是一起的，return 是函数返回语句，但是返回的同时也将函数停止。</p></li> <li><p>break和continue这两个应用的范围是退出循环或者switch语句，在其他地方使用会导致错误.</p></li> <li><p>continue(跳出本次循环)语句只能用在while语句、do/while语句、for语句、或者for/in语句的循环体内，在其它地方使用都会引起错误！</p></li> <li><p>return 后面必须紧跟语句，不能换行</p></li> <li><p>return 只能出现在函数体内 语法为：return 表达式。</p></li> <li><p>无函数结果，语法为：return，把控制权返回给页面</p></li> <li><p>return false的作用一般是用来取消默认动作的，例如,默认情况下点击一个&lt; a&gt;元素。</p></li></ul> <hr> <ul><li>文件，图片等数据类型</li></ul> <ol><li>Blob : 表示一个不可变、原始数据的类文件对象</li></ol> <div class="language- extra-class"><pre class="language-text"><code>File 继承自 Blob

// array: ArrayBuffer, ArrayBufferView, Blob, DOMString
// options: { type: 'MIME', endings: 'native'(结束符会被更改为适合宿主操作系统文件系统的换行符) || 'transparent'(默认，保持blob中保存的结束符不变) }
const _Blob = new Blob( array, options ); 
</code></pre></div><ol start="2"><li>将图片转 base64
方法一：用 ajax 请求图片资源，设置返回值类型为Blob；或者获取input选择的图片
<code>xhr.responseType = 'blob';</code></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">let</span> fr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
fr<span class="token punctuation">.</span><span class="token function">readAsDataURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span>
fr<span class="token punctuation">.</span><span class="token function-variable function">onloadend</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">let</span> base64 <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>方法二：使用canvas</p> <div class="language-js extra-class"><pre class="language-js"><code>ctx<span class="token punctuation">.</span><span class="token function">drawImage</span><span class="token punctuation">(</span>imgElement<span class="token punctuation">,</span><span class="token number">176</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">300</span><span class="token punctuation">,</span><span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> base64 <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">toDataURL</span><span class="token punctuation">(</span><span class="token string">'image/png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="cookie"><a href="#cookie" class="header-anchor">#</a> cookie</h3> <ol><li>document.cookie='name=hew;path=/;expires=UTCstring;max-age=秒'  //设置和获取</li></ol> <hr> <p>var ojb=JSON.parse('[{&quot;a&quot;:&quot;0&quot;,&quot;b&quot;:&quot;1&quot;}]')<br>
//数字可以不加引号,并且可以是数组与对象的多重结合，也可以只有对象，里面只能用双引号</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> ojb<span class="token operator">=</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'{&quot;hew&quot;:&quot;yes&quot;}'</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">key<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>  
    <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token operator">==</span><span class="token string">'hew'</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'hew'</span><span class="token operator">+</span>value<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>  
    <span class="token keyword">else</span><span class="token punctuation">{</span>  
        <span class="token keyword">return</span> value<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ojb<span class="token punctuation">)</span> <span class="token comment">// {hew: &quot;hewyes&quot;}</span>
</code></pre></div><hr> <p><strong>stringify:</strong></p> <p>syntax:JSON.stringify(value[, replacer[, space]]) <strong>巴科斯范式(BNF)</strong></p> <ul><li>value:数组与对象的结合;</li> <li>replacer:函数或是数组；一般设为null；</li> <li>space：缩进 | 空格 | 换行 （数字或\t 等）；大于 10，则文本缩进 10 个空格；一般设为4</li></ul> <h3 id="window"><a href="#window" class="header-anchor">#</a> window</h3> <ul><li>打开新的页面，并将其关闭</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> newTag <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> <span class="token string">'_blank'</span><span class="token punctuation">)</span>
newTag<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
newTag<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>window.btoa(需要编码的字符串) 将字符串转base64  &lt;=&gt; window.atob(base64字符) 相反方法</p></li> <li><p>window.URL.createObjectURL(File 对象、Blob 对象、 MediaSource 对象)</p></li></ul> <p>静态方法会创建一个 DOMString(DOMString 是一个UTF-16字符串,如(<code>&lt;a id=&quot;a&quot;&gt;&lt;b id=&quot;b&quot;&gt;hey!&lt;/b&gt;&lt;/a&gt;</code>)), 其中包含一个表示参数中给出的对象的URL,这个新的URL对象表示指定的 File 对象或 Blob 对象</p> <p>可以用于预览图片,a标签下载等</p> <hr> <ul><li>获取元素计算后的样式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span><span class="token string">'Element'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span><span class="token string">'border'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 返回的是样式设置值，如宽度是百分比，即返回百分比</span>
window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span><span class="token string">'Element'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'border'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

element<span class="token punctuation">.</span><span class="token function">computedStyleMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'border'</span><span class="token punctuation">)</span> <span class="token comment">// 实验性质的方法，返回的是真实渲染结果值，比如百分比宽度，返回确切数值</span>
</code></pre></div><h4 id="window-localstorage"><a href="#window-localstorage" class="header-anchor">#</a> window.localStorage</h4> <p>任何格式存储的时候都会被自动转为字符串</p> <p>Storage事件（未完）；</p> <div class="language-js extra-class"><pre class="language-js"><code>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">key</span><span class="token punctuation">(</span><span class="token string">'第几个保存的值：比如0，1，2等值'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 获取指定key本地存储的值</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span>value<span class="token punctuation">)</span> <span class="token comment">//将value存储到key字段</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">removeItem</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span> <span class="token comment">// 删除指定key本地存储的值</span>

<span class="token comment">// sessionStorage.length是sessionStorage的项目数</span>
sessionStorage<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//清除所有</span>

<span class="token comment">// localStorage与上面相同。</span>
<span class="token comment">// 或者直接设置值</span>
localStorage<span class="token punctuation">.</span>a <span class="token operator">=</span> <span class="token number">3</span><span class="token punctuation">;</span>
localStorage<span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">'sfsf'</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h4 id="location对象："><a href="#location对象：" class="header-anchor">#</a> location对象：</h4> <ul><li>location.search  // ?及之后的字符串,只有问号时返回空字符串。</li> <li>window.location.port  // 设置，获取端口号</li> <li>window.location.protocol  // 同上，协议部分</li> <li>window.location.hash  // 同上，#号后面的分段</li> <li>window.location.host/hostname(不包含端口)  // 同上</li></ul> <p>获取url中的参数:</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">getURLParameter</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">var</span> regexp<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token string">'(^|&amp;amp;)'</span><span class="token operator">+</span>name<span class="token operator">+</span><span class="token string">'=([^&amp;amp;]\*)(&amp;amp;|$)'</span><span class="token punctuation">,</span><span class="token string">'i'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> url<span class="token punctuation">.</span><span class="token function">substr</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span>regexp<span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">getURLParameter</span><span class="token punctuation">(</span><span class="token string">'?name=b&amp;amp;password=d'</span><span class="token punctuation">,</span><span class="token string">'password'</span><span class="token punctuation">)</span>
</code></pre></div><hr> <p><strong>instanceof</strong></p> <ul><li>要判断的值 instanceof Array|String  返回true或false 用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链</li> <li>[1,2] instanceof Array 判断是否是数组</li> <li>data instanceof FormData 判断是否是 FormData</li></ul> <hr> <p>option标签在谷歌和ie低版本上是没有 click 事件的，一般对select都是用change事件；<br>
获取option的value和text用<br>
selectObj=document.getElementById('select');<br>
selectObj.value;  selectObj.options[selectObj.selectedIndex].text;</p> <ol><li>可以直接获取到select对象执行以上操作；</li> <li>事件中用this替代selectObj 即可；</li> <li>$(selectID).find(&quot;option:selected&quot;).text()</li></ol> <hr> <p>火狐中是没有innerText，可以用textContent来代替（DOM3的标准）其它的浏览器也可以支持。</p> <hr> <p>null:没有对象</p> <p>undefined:表示缺少值（声明了变量但没有被赋值；调用函数时，应该提供的参数没有提供，该参数返回undefined；对象没有赋值的属性；函数没有返回值时；）</p> <p>判断值是否为 undefined 可以 （1）直接判断,当变量没有声明时会出错;（2）使用 typeof 判断返回值是否为 'undefined';</p> <hr> <h3 id="object"><a href="#object" class="header-anchor">#</a> Object</h3> <ul><li><p>键值 只能是字符或是 Symbol 如果是其它类型会强制转换为这字符</p></li> <li><p>通过 <code>obj[key] = 'xx'</code> 添加、获取属性值时，属性名可以是任何字符串（包括只包含空格的字符串和空字符串）</p></li> <li><p>对象转字符串 会默认调用 toString 方法  结果为字符串 <code>[[object Object]]</code></p></li></ul> <hr> <ul><li>可枚举属性 https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties</li></ul> <p>可以用 Object.keys() 获取</p> <ul><li>Objetc.keys 返回对象可枚举属性，不包含 原型链和 Symbol</li></ul> <hr> <ul><li>对象取值函数</li></ul> <p>在使用 { ...obj } 时会被执行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'hew'</span><span class="token punctuation">,</span>
    <span class="token keyword">get</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">'get '</span> <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token keyword">set</span> <span class="token function">getName</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> val
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>getName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get hew</span>
obj<span class="token punctuation">.</span>getName <span class="token operator">=</span> <span class="token string">'new name'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>getName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// get new name</span>
</code></pre></div><hr> <ul><li>delete</li></ul> <p>可删除： 1. 可配置对象的属  2. 隐式申明的全局变量(没有用 var let const 声明)  3. const 或 let 申明的 tdz 中的（没有找到验证代码） 4. 修饰属性 configurable 为 false 的</p> <p>不可删： 1. 从原型继承而来的属性</p> <p>删数组： length 不会变 删掉的位置变为 empty  用 join 会保留空 <code>1,,3</code></p> <hr> <p><code>obj.hasOwnProperty('b')</code>  判断 obj 对象是否有属性 b  返回布尔值 与 in 功能一致</p> <hr> <ul><li>Object.seal() 密封对象，可以修改属性值,禁止添加新属性</li> <li>Object.freeze() 冻结对象，什么都不能修改，只冻结第一层</li></ul> <hr> <ul><li>Object 获取键值方法</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> <span class="token punctuation">{</span>keys<span class="token punctuation">,</span>values<span class="token punctuation">,</span>entries<span class="token punctuation">}</span><span class="token operator">=</span>Object<span class="token punctuation">;</span><span class="token comment">// 返回的都是数组</span>
<span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token number">2</span><span class="token punctuation">,</span> c<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> <span class="token punctuation">[</span>key<span class="token punctuation">,</span>value<span class="token punctuation">]</span> <span class="token keyword">of</span> <span class="token function">entries</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span>key<span class="token punctuation">,</span> value<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token comment">// ['a', 1], ['b', 2], ['c', 3];</span>
</code></pre></div><ul><li><code>Object.assign(target, source)</code> 将souse复制到target ,所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</li></ul> <h4 id="call-apply-bind"><a href="#call-apply-bind" class="header-anchor">#</a> call() || apply() || bind()</h4> <p>前两者用法一样，除了传参方式</p> <p>用法如下：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 1.子构造函数调用父构造函数的方法</span>
<span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 让Fn内部的 this 指向F1的实例对象,由于执行了Fn(),所以给实例对象也绑定了Fn中的属性</span>
    <span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> age<span class="token punctuation">)</span><span class="token punctuation">;</span> 
    <span class="token keyword">this</span><span class="token punctuation">.</span>num <span class="token operator">=</span> num<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">F1</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>name<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>age<span class="token punctuation">,</span> f1<span class="token punctuation">.</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1，2，3</span>

<span class="token comment">// 2.调用函数并指定上下文‘this’</span>
<span class="token keyword">var</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>name<span class="token punctuation">:</span><span class="token number">1</span><span class="token punctuation">,</span>age<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'other'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">f2</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// other 1 2</span>

<span class="token comment">// 3.使用apply和内置函数</span>
Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">100</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 返回 2</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token operator">|</span>Math<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 返回3</span>

Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// 1</span>
Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">// 3  不传参数返回 infinity （min 也是）</span>

<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>array1<span class="token punctuation">,</span> array2<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>bind(Object,args,args…)</strong></p> <p>会创建一个新函数，第一个参数将作为它运行时的this。</p> <p>bind 是返回对应函数，便于之后调用；apply 、call 则是立即调用 。</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">var</span> module <span class="token operator">=</span> <span class="token punctuation">{</span> x<span class="token punctuation">:</span> <span class="token number">81</span><span class="token punctuation">,</span><span class="token function-variable function">getX</span><span class="token punctuation">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">+</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function-variable function">retrieveX</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x<span class="token operator">+</span>a<span class="token operator">+</span>b<span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token keyword">var</span> boundGetX <span class="token operator">=</span> <span class="token function">retrieveX</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>module<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">boundGetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//90</span>
</code></pre></div><h4 id="继承"><a href="#继承" class="header-anchor">#</a> 继承</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Fn</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token operator">=</span>name<span class="token punctuation">;</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token operator">=</span><span class="token string">'test'</span>
<span class="token punctuation">}</span>
<span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">do</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">some</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'do:'</span><span class="token operator">+</span>some<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token constant">F1</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	<span class="token function">Fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 不会继承原型方法</span>
<span class="token punctuation">}</span>
<span class="token class-name">F1</span><span class="token punctuation">.</span>prototype<span class="token operator">=</span>Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Fn</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token operator">||</span><span class="token keyword">new</span> <span class="token class-name">Fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 用原型,即可以不用重复声明函数</span>
<span class="token class-name">F1</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">way</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">way</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>way<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> f1<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">F1</span><span class="token punctuation">(</span><span class="token string">'koko'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
f1<span class="token punctuation">.</span><span class="token function">do</span><span class="token punctuation">(</span><span class="token string">'what'</span><span class="token punctuation">)</span>
f1<span class="token punctuation">.</span><span class="token function">way</span><span class="token punctuation">(</span><span class="token string">'what way'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="面向对象的实现方式"><a href="#面向对象的实现方式" class="header-anchor">#</a> 面向对象的实现方式</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// 链式方法 </span>
<span class="token keyword">function</span> <span class="token function">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token class-name">Name</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token function-variable function">f1</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'f1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token function-variable function">f2</span><span class="token punctuation">:</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'f2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> n <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Name</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
n<span class="token punctuation">.</span><span class="token function">f1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">f2</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">//还可以用构造函数的方式</span>


<span class="token comment">//工厂模式</span>
<span class="token keyword">function</span> <span class="token function">createBlog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  o<span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
  <span class="token keyword">return</span> o<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//构造模式</span>
<span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>url <span class="token operator">=</span> url<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//原型模式</span>
<span class="token keyword">function</span> <span class="token function">Blog</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Blog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token string">'wuyuchang'</span><span class="token punctuation">;</span><span class="token comment">//只能这样创建</span>
<span class="token class-name">Blog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token string">'http://tools.jb51.net/'</span><span class="token punctuation">;</span>
<span class="token class-name">Blog</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>friend <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'fr1'</span><span class="token punctuation">,</span> <span class="token string">'fr2'</span><span class="token punctuation">,</span> <span class="token string">'fr3'</span><span class="token punctuation">,</span> <span class="token string">'fr4'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><hr> <p>navigate.appName/userAgent/appVersion/platform<br>
IE:trident(-ms-);<br>
Firefox:gecko(-moz-);<br>
Chrome:webkit(-webkit-)<br>
Opera:presto(-o-)<br>
window.top.document.compatMode;返回模式（标准和怪异）</p> <hr> <p>location.reload():当参数为false（默认）如果文档没有改变就从缓存中去取，如果改变就在此下载该文档；当参数为true，直接从服务器重新下载该文档。</p> <hr> <p>document.documentElement:获取 HTML 元素对象<br>
document.body:获取body节点对象<br>
document.doctype获取&lt; !DOCTYPE&gt;<br>
document.title='name'获取或更改title标签值<br>
document.URL获取url<br>
document.domain获取域名（服务器端）<br>
document.referrer获取上一个URL(服务器端)<br>
document.forms  返回文档中的所有Form对象引用<br>
document.domain  获取域名不带端口</p> <h4 id="number"><a href="#number" class="header-anchor">#</a> Number</h4> <ul><li><p>用Number(参数)来创建数值对象，不推荐用new Number()</p></li> <li><p>Number('true') 返回 NaN</p></li> <li><p>浮点数运算精度问题 <code>0.1+0.2=0.30000000000000004、1-0.9=0.09999999999999998 3*0.2=0.6000000000000001</code></p></li> <li><p>js 运算是带符号的  一个数除以 0 得无穷 1/0 等于 Infinity  -1/0 等于 -Infinity</p></li> <li><p><code>1.toString()</code>  报错  应为 1. 会优先执行 相当于 <code>(1.)toString</code></p></li> <li><p><code>1.</code> <code>.1</code> 都是合法的数字</p></li></ul> <hr> <ul><li><p><code>.isFinite()</code> 判断是不是有限值  只有 NaN 正无穷 负无穷 返回 false</p></li> <li><p><code>.isInteger()</code> 判断是不是整数(负整数 0 正整数)</p></li> <li><p><code>.isNaN()</code> 判断是不是 isNaN</p></li> <li><p>Number.toFixed(n)</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>返回字符串 n为0到20之间值;  这里采用的是四舍六入五取偶：
1. 保留位后面是5，保留位是奇数则直接舍去后面数，保留位是偶数则进一位; 
2. 保留位后面不是5，按照正常四舍五入计算
(0.35).toFixed(1) // 0.3
(0.45).toFixed(1) // 0.5
</code></pre></div><h4 id="math-对象"><a href="#math-对象" class="header-anchor">#</a> Math 对象</h4> <ul><li>.abs(X)    返回X的绝对值；</li> <li>.ceil(X)   上舍入；</li> <li>.floor(X)  下舍入；</li> <li>.round(X)  四舍五入；</li> <li>.pow(x, y) x的y次方</li> <li>.sqrt()    平方根</li> <li>.random()  返回 [0，1) 之间的随机数</li> <li>.sin(以弧度表示的角度)：（2*PI/360）度数，就是弧度</li></ul> <p>调用方法返回值为： number</p> <h4 id="date-对象"><a href="#date-对象" class="header-anchor">#</a> Date 对象</h4> <ul><li>UTC 世界同一时间 || GMT 格林尼治标准时间 ：返回值相同。GMT 是一个时区，而 UTC 是一个时间标准。</li> <li>Date()方法:不接受参数，<br>
alert(Date())返回当前日期和时间字符串；</li> <li>创建Date对象的方法:new Date() 返回当前日期和时间</li></ul> <p>new Date(毫秒数) 可以带毫秒数的参数，返回日期；这个毫秒数是1970年1月1日到返回日期之间的毫秒时间；<br>
new Date(‘October 13, 1975 11:13:00’)；<br>
new Date(‘2016-05-13T11:13:00’)；<br>
new Date(‘2016-05-13 11:13:00’);//在ios系统中可能报错<br>
new Date(‘2016/05/13 11:13:00’)；<br>
new Date(year, month, day, hours, minutes, seconds, milliseconds)<br>
参数可以不写全，但是最好是后面的参数不写全；也可以是放Date对象的字符串形式。</p> <ul><li>var d=new Date();返回的是对象<br>
d.getTime();指定的日期和时间距 1970 年 1 月 1 日午夜（GMT 时间）之间的毫秒数</li></ul> <p>Date.parse(‘October 13, 1975 11:13:00’)||(d);</p> <p>这里可以用d当作参数的原因是d会自执行一下返回一个 datestring</p> <p>是Date对象的静态方法，不需要用dateObject(就是new出来的d).parse来调用</p> <p>var d=new Date() d.toISOString() // 2017-01-09T06:19:11.004Z</p> <ul><li><p>new Date(+new Date()+8<em>3600</em>1000).toISOString()  返回正确的时区时间，valueOf() 方法返回一个 Date 对象的原始值，等同于getTime() 。</p></li> <li><p>当给定的时间一样，以下方法返回值相同</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token string">'2018-04-03T16:40:00'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token string">'date string'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token constant">UTC</span><span class="token punctuation">(</span><span class="token number">2018</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">8</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="循环"><a href="#循环" class="header-anchor">#</a> 循环</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> 变量 <span class="token keyword">in</span> 对象名 <span class="token punctuation">)</span><span class="token punctuation">{</span> 
    <span class="token comment">// 如果对象是 null 则会自动忽略 </span>
    <span class="token function">alert</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span> <span class="token comment">//返回对象键值对中的属性名  </span>
    <span class="token function">alert</span><span class="token punctuation">(</span>对象名<span class="token punctuation">[</span>变量<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//返回该变量对应的属性值  </span>
<span class="token punctuation">}</span>  
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> 变量 <span class="token keyword">in</span> 数组名 <span class="token punctuation">)</span><span class="token punctuation">{</span>  <span class="token comment">//不推荐</span>
    <span class="token function">alert</span><span class="token punctuation">(</span>变量<span class="token punctuation">)</span> <span class="token comment">//返回数组下标  </span>
    <span class="token function">alert</span><span class="token punctuation">(</span>数组名<span class="token punctuation">[</span>变量<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//返回对应下标的数组值  </span>
<span class="token punctuation">}</span>  
<span class="token keyword">for</span><span class="token operator">...</span>in <span class="token comment">// 遍历（当前对象及其原型上的）每一个可枚举的非 Symbol 属性</span>

<span class="token keyword">for</span><span class="token operator">...</span>of  <span class="token comment">// 不可以遍历原生对象 {a:1,b:2} 因为原生对象不具有 Iterator 接口 （可枚举与不可枚举），可枚举数组，Map Set 和某些部署 Symbol.iterator</span>
</code></pre></div><hr> <ul><li>in 的用法</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token comment">// 判断数组是否有该索引  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token keyword">in</span> array<span class="token punctuation">)</span>  <span class="token comment">//这里的1表示下标  </span>
<span class="token comment">// 判断某一属性是否在该对象中  </span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name'</span> <span class="token keyword">in</span>  Object<span class="token punctuation">)</span>   <span class="token comment">//'name'表示属性名称  </span>
</code></pre></div><hr> <p><strong>switch</strong></p> <ul><li>用命令对象来替换switch</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">swichFn</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">let</span> tempObject<span class="token operator">=</span><span class="token punctuation">{</span>
        <span class="token string">'1'</span><span class="token punctuation">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token function">alert</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> tempObject<span class="token punctuation">[</span>n<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">'function'</span> <span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token boolean">false</span> <span class="token punctuation">;</span>
    <span class="token keyword">return</span> tempObject<span class="token punctuation">[</span>n<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">swichFn</span><span class="token punctuation">(</span><span class="token string">'1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>用查表法来替代switch</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> result<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span>
<span class="token keyword">return</span> result<span class="token punctuation">[</span>value<span class="token punctuation">]</span>
</code></pre></div><ul><li>与if-else性能比较；switch较高，但是降低了空间利用率，提高了空间复杂度；但是在数量少的时候用if-else</li></ul> <h3 id="事件"><a href="#事件" class="header-anchor">#</a> 事件</h3> <ul><li><p>ondblclick 双击事件</p></li> <li><p>onwheel  鼠标滚轮事件</p></li> <li><p>oncontextmenu  鼠标右键点击，一般用作更改右键弹出选项</p></li> <li><p>内联事件 <code>onkeyup=&quot;handleEnter(event, type, this, '2333')&quot;&gt;</code> 传递 event, 这里名称必须是event</p></li> <li><p>判断输入回车</p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code>inputElement<span class="token punctuation">.</span><span class="token function-variable function">onkeyup</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>keyCode <span class="token operator">==</span> <span class="token string">&quot;13&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
　　　　<span class="token comment">// 判断回车</span>
　　<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>onerror  无法监听资源加载的错误，只能声明一次 不能重复执行多个回调 可以换成 window.addEventListener('error'),能监听网络错误 但是不知道状态</li></ul> <p>可以使用 <code>performance.getEntries()</code> 获取已经加载成功的资源 与要加载的资源进行对比 得到没有加载成功的资源</p> <p>vue 中用 errorHandler  react 中用 componentDidCatch</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// source(文件), lineno(行), colno(列)</span>
 window<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">message<span class="token punctuation">,</span> source<span class="token punctuation">,</span> lineno<span class="token punctuation">,</span> colno<span class="token punctuation">,</span> error</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>message<span class="token punctuation">,</span> source<span class="token punctuation">,</span> lineno<span class="token punctuation">,</span> colno<span class="token punctuation">,</span> error<span class="token punctuation">)</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span>  <span class="token comment">// 返回false(默认) 就在浏览器显示错误； 返回 true 不显示错误了 只打印上面的输出，如果没有写输出  就看不到错误信息</span>
<span class="token punctuation">}</span>
<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// a是没有定义的</span>
</code></pre></div><ul><li>unhandledrejection</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'unhandledrejection'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise'</span><span class="token punctuation">,</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 产生了reject  但是没有设置 catch 捕获</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token function">reject</span><span class="token punctuation">(</span><span class="token number">23333</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h4 id="事件说明"><a href="#事件说明" class="header-anchor">#</a> 事件说明</h4> <ul><li><p>onchange: 值有改变并且元素失去焦点时触发。</p></li> <li><p>onblur: 只要失去焦点就触发。</p></li> <li><p>支持 onload 的标签 <code>&lt; body&gt;, &lt; frame&gt;, &lt; frameset&gt;, &lt; iframe&gt;, &lt; img&gt;, &lt; input type=&quot;image&quot;&gt;, &lt; link&gt;, &lt; script&gt;, &lt; style&gt;</code></p></li> <li><p>onscroll 事件 对div window都兼容; document，document.body,  document.documentElement 存在兼容问题 http://www.w3help.org/zh-cn/causes/SD9013
监听了window后可以获取html的 scrollTop</p></li> <li><p>'&lt; div onclick=&quot;fn(''+ param +'')&quot;&gt;&lt;/ div&gt;' 内联事件传字符串需加引号并转义</p></li> <li><p>storage  同一个域名不同页面才有效</p></li></ul> <h4 id="事件移除"><a href="#事件移除" class="header-anchor">#</a> 事件移除</h4> <p>document.getElementById('id').removeEventListener('click',fn,false);<br>
这里必须写成fn的函数调用，因为要与添加事件时的函数为同一个函数。<br>
document.getElementById('id').onclick=function(){};<br>
document.getElementById('id').onclick=null;<br>
$('#').unbind('事件名称');参数可选</p> <h4 id="js鼠标事件获取坐标"><a href="#js鼠标事件获取坐标" class="header-anchor">#</a> JS鼠标事件获取坐标</h4> <p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent" target="_blank" rel="noopener noreferrer">参考地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li><p>clientX/Y: 触发点相对浏览器可视区域左上角距离，不随页面滚动而改变;浏览器都支持;</p></li> <li><p>pageX/Y: 触发点相对文档区域左上角距离，不会随着页面滚动而改变,除IE6/7/8不支持外，其余浏览器均支持;</p></li> <li><p>offsetX/Y,layerX/Y  点击位置相对于元素的内边距</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>内有其它元素,获取的 offsetX 值会被影响，处理方法是设置一个透明遮罩覆盖在顶部
firefox的event不支持 offsetX (新版的是支持的)属性，但是提供了layerX(相对于元素的外边距),如果设置了position为相对/绝对定位就相等。
IE所有版本，chrome，Safari均完美支持，Firefox不支持最新版支持
IE6/7/8不支持，opera不支持，IE9/10和Chrome、Safari均支持
</code></pre></div><ul><li>screenX/Y 触发点相对显示器屏幕左上角的距离，不随页面滚动而改变 所有浏览器均支持;<br>
Event.x/y相对于css中的绝对定位的位置，不会随滚动条的改变而改变。火狐不支持但有等效的pageX。</li></ul> <h4 id="queryselector"><a href="#queryselector" class="header-anchor">#</a> querySelector</h4> <p>querySelectorAll 返回的是一个 Static Node List(是一次对文档的快照，若是该快照下对文档有什么更改不会影响本次操作);<br>
document.querySelectorAll('选择符')：返回匹配元素集合。<br>
document.querySelector ('选择符')：返回匹配第一个元素。<br>
而 getElementsBy 系列的返回的是一个 Live Node List：<br>
var ul = document.getElementsByTagName('ul')[0],<br>
lis = ul.getElementsByTagName(&quot;li&quot;);<br>
for(var i = 0; i &lt; lis.length ; i++){   //这里就是lis.length在一直变化<br>
ul.appendChild(document.createElement(&quot;li&quot;));<br>
}<br>
每一次调用lis都会去遍历一下文档，最终会无限循环。</p> <p>HTMLCollection 和 NodeList 十分相似，都是一个动态的元素集合，每次访问都需要重新对文档进行查询。两者的本质上差别在于，HTMLCollection 是属于 Document Object Model HTML 规范，而 NodeList 属于 Document Object Model Core 规范。
所以在现代浏览器中，querySelectorAll 的返回值是一个静态的 NodeList 对象，而 getElementsBy 系列的返回值实际上是一个 HTMLCollection 对象 。</p> <hr> <div class="language- extra-class"><pre class="language-text"><code>onunload和onbeforeunload事件  
最好body上添加事件  
onunload和一般的事件一样  
onbeforeunload:  
function a(){  
   return '返回文字'  
}  
&lt; body onbeforeunload=&quot;return a()&quot;&gt;  
Window||document.body.onbeforeunload=function(e){  
    e.returnValue='返回文字'  
}  
或是用addEventListener同样用returnValue
</code></pre></div><hr> <h3 id="array"><a href="#array" class="header-anchor">#</a> Array</h3> <ul><li><p><code>.isArray(被判断的值)</code> 判断是否是数组</p></li> <li><p>伪数组 Array like</p></li></ul> <p>像 arguments 对象，还有像调用 getElementsByTagName ,document.childNodes之类的，它们返回NodeList对象都属于伪数组。不能应用 Array下的 push , pop 等方法。</p> <p>当给其定义了 push 方法后，是根据定义的length 在指定的下标处开始插入</p> <p>将伪数组转化为数组</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// Array.prototype.slice.call(arguments) || [].slice.call(arguments)</span>
<span class="token keyword">const</span> obj<span class="token operator">=</span><span class="token punctuation">{</span>length<span class="token punctuation">:</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">:</span><span class="token string">'first'</span><span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">:</span><span class="token string">'second'</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//  [&quot;first&quot;, &quot;second&quot;]  返回的是 稀疏数组  也就是可能有 [1, empty, 2]  forEach 循环打印时输出空  直接访问输出 undefined</span>

<span class="token keyword">const</span> args <span class="token operator">=</span> Array<span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 有空的位置 赋值 undefined</span>
<span class="token keyword">const</span> args <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>arguments<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><hr> <ul><li><code>.from()</code> 方法从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例</li></ul> <p>将字符串、Set、Map arguments 转为数组</p> <hr> <ul><li><code>.reduce(callback, 初始值(如果不设置默认为数组第一个值))</code> 对数组中的每个元素执行一个提供的reducer函数，将结果汇总为单个返回值</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">]</span>
<span class="token comment">// accumulator 上一次返回的值 currentValue 当前值 index 当前正在处理的元素索引</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">accumulator<span class="token punctuation">,</span> currentValue<span class="token punctuation">,</span> index</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> 
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// index 从1开始，这里是没有设置初始值</span>
    <span class="token keyword">var</span> r <span class="token operator">=</span> accumulator
    <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">)</span> r <span class="token operator">=</span> accumulator<span class="token operator">*</span><span class="token number">10</span>
    <span class="token keyword">return</span> <span class="token number">1</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 返回 150</span>
</code></pre></div><hr> <ul><li><p><code>.from</code> 从一个类似数组或可迭代对象创建一个新的 浅拷贝的数组</p></li> <li><p><code>.from('abc')</code>  // [a,b,c]</p></li> <li><p><code>.from([1, 2, 3], x =&gt; x + x)</code> // [2,4,6]</p></li></ul> <h4 id="filter-map-foreach-some-every-find-findindex-includes"><a href="#filter-map-foreach-some-every-find-findindex-includes" class="header-anchor">#</a> filter/map/forEach/some/every/find/findIndex/includes</h4> <ul><li><p>.filter 返回符合条件的新数组,没有赋值或删除了的项，会被跳过</p></li> <li><p>.map 返回新数组，数组项不变，但值可做修改</p></li> <li><p>console.log(arr.forEach(function(v){console.log('v',v)}));//返回undefind</p></li> <li><p>.some 有返回值， some 的回调函数有一个返回 true，则返回true, 有true返回则结束循环</p></li> <li><p>.every 有返回值， some 的回调函数每一个返回 true，则返回true, 有false返回则结束循环</p></li> <li><p>.find 返回第一个符合的值</p></li></ul> <hr> <ul><li>.findIndex(() =&gt; {}) 返回第一个符合的值的数组下标(没有返回-1与indexOf一致) 与 indexOf 区别为传入的参数，前者为函数,函数有利于匹配数组项为对象</li></ul> <p>indexOf(str) 参数可以是字符或字符串</p> <hr> <ul><li>includes: [].includes('some value') // return true/false ,与indexOf相比，可以避免返回的0，判断时的错误</li></ul> <hr> <p>在表达式中：<code>var a = i++</code> a等于i原来的值，<code>var a = ++i</code> a等于i加1后的值；但最后i的值都会加1</p> <hr> <p>splice(x,y,z1,z2,z3,z4....):会直接对当前数组进行修改；<br>
取出从下标为x（下标从0开始）开始的y个数组值，进行修改；<br>
z参数不加：就删除数组中的这几个数；相当于用空来替换这些数<br>
y参数为0：在x前面插入z；
y参数为1：将x替换为z；<br>
该方法返回被删的数组值；</p> <hr> <p>slice(start,end)(字符串也有这个方法，用法相同):会返回一个新的数组；不对原数组进行修改;</p> <p>start||end=-1表示最后一个元素。<br>
'abcdef'.slice(0,-2)      //'abcde'<br>
'abcdef'.slice(-2,-1)<br>
start和end都为下标（下标从0开始）；返回包含下标start但不包含下标end的数组；</p> <hr> <ul><li><p><code>.join('!')</code> 将数组的每个元素放到一个字符串中，不传参就用逗号隔开(此时与toString() 方法一样),传就用该符号</p></li> <li><p><code>array.push(element1[, ...[, elementN]]);</code> 末尾压栈，返回<strong>数组长度</strong>；通过索引值来添加比push方法更快</p></li> <li><p><code>.pop()</code> 末尾出栈，返回去掉的值</p></li> <li><p><code>.shift()</code> 对头出栈，返回去掉的值</p></li> <li><p><code>.unshift()</code> 对头入栈，返回数组长度</p></li> <li><p><code>.reverse()</code>; 逆向排序的数组  返回数组的引用</p></li> <li><p><code>.sort()</code></p></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">55</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">]</span>
<span class="token keyword">function</span> <span class="token function">compare</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token comment">// 取数组中的两个数 a, b</span>
    <span class="token keyword">return</span> a<span class="token operator">-</span>b<span class="token punctuation">;</span> <span class="token comment">// 注意这里是 a-b 如果是 b-a ab的位置会相反</span>
    <span class="token comment">// 重点关注返回值即刻</span>
    <span class="token comment">// 返回0 位置不变</span>
    <span class="token comment">// 返回负数 a放到b左边（简单理解为降序）nde</span>
    <span class="token comment">// 返回正数 a放到b右边（简单理解为升序）</span>
<span class="token punctuation">}</span>
arr<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>compare<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 默认小到大排列（即没有compare函数）按照数组元素对应的字符串的 Unicode 从小到大进行排序。  </span>

<span class="token comment">// 比较数字可以简单的使用(升序)</span>
<span class="token keyword">function</span> <span class="token function">compareNumber</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token keyword">return</span> a <span class="token operator">-</span> b
<span class="token punctuation">}</span>
</code></pre></div><p>reverse 和 sort 都是直接操作原数组 返回数组引用</p> <p>arrayA.concat(arrayB); 返回拼接后的新数组，不会覆盖数组间重复的值</p> <p>var newArray = [].concat(valueN,valueN,valueN) valueN 可以是值或数组</p> <hr> <h3 id="function"><a href="#function" class="header-anchor">#</a> Function</h3> <ul><li>一种特殊的 命名函数表达式</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token function-variable function">fnName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 这里可以调用 fn  fnname</span>
<span class="token punctuation">}</span>
<span class="token comment">// 这里只能调用 fnName</span>
</code></pre></div><hr> <ul><li><p>异步编程</p> <ol><li>函数回调</li> <li>事件监听</li> <li>Promises</li> <li>generator(ES6)</li> <li>async/await(ES7)</li> <li>发布/订阅, 将订阅的回调函数，循环的去执行</li></ol></li> <li><p>async/await : 返回的是 Promise 函数 return 的值，作为 then 的接收参数</p></li></ul> <hr> <ul><li>高阶函数 满足：接收函数作为参数或输出一个函数</li></ul> <hr> <ul><li>Function() 构造函数<br>
函数实际上是功能完整的对象 。Function类可以表示开发者定义的任何函数。用Function类直接创建函数的语法如下：<br>
var function_name = new Function(arg1, arg2, ..., argN, function_body)<br>
参数必须是字符串,最后一个参数是函数主体（要执行的代码）</li></ul> <hr> <p>同名的变量声明，后者会被忽略；同名的函数声明，前者会被覆盖；同名的函数声明和变量声明，提升函数声明会提升到变量声明之前，变量会被忽略，所以结果是函数声明有效，<strong>注意是声明，并没有赋值</strong></p> <hr> <ul><li>变量提升</li></ul> <ol><li>变量提升，就是把变量提升提到函数的top的地方<br>
(function(){<br>
alert(a);  // undefind<br>
var a=12;<br>
})()</li> <li>函数提升，把整个函数都提到当前域的top位置，只有声明函数可以提升，表达式函数不能</li></ol> <p>将函数声明提到函数同级作用域或全局作用域最前面，将函数定义提升到作用域最前面，</p> <p>注意函数作用域和块级作用域</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//可以执行  </span>
    <span class="token keyword">function</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 当运行到定义位置时，会将函数名变量同步到与函数同级作用域，如有同名变量会覆盖其值；可类比为 块级作用域的let不提升，不影响上层作用域</span>
    <span class="token comment">// 如果是非函数的块级作用域，运行到定义位置时就会覆盖全局的同名变量</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token number">0</span>
<span class="token keyword">if</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a <span class="token operator">=</span> <span class="token number">10</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> window<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 10 0</span>
    <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// 此处运行后 才会覆盖全局同名变量</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> window<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 10 10</span>
    a <span class="token operator">=</span> <span class="token number">20</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> window<span class="token punctuation">.</span>a<span class="token punctuation">)</span> <span class="token comment">// 20 10 这里的a是函数声明的a 与 window.a 不一样</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="3"><li>let 不会变量提升；作用域是块级；不允许同一域重复声明；当在申明前使用，会报错 'Cannot access before initialization'</li></ol> <hr> <p>IIFE: Immediately Invoked Function Expression，意为立即调用的函数表达式 (自执行函数),因为原来只有函数作用域和全局作用域，执行一段代码，又不想污染当前作用域，所以用立即执行函数将其包裹起来，既隔离出了独立的作用域，又能立即执行</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 只有这一种  </span>

<span class="token operator">!</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token punctuation">)</span>  
<span class="token comment">// 感叹号将函数变为了函数表达式，也可用+-||等代</span>
</code></pre></div><hr> <p>构造：</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token constant">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">var</span> a1<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span><span class="token comment">//私有属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>a2<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//公有属性</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">aaa</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token function">alert</span><span class="token punctuation">(</span>a1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//在实例化中是可以访问该私有属性的</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token class-name">A</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>a2 <span class="token operator">=</span> <span class="token number">3</span> <span class="token comment">// 这个在实例化后会被  this.a2 覆盖</span>
<span class="token constant">A</span><span class="token punctuation">.</span>a3<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span> <span class="token comment">// 静态属性  </span>
<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
obj<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>a3 <span class="token comment">// 实例中 只能这样访问</span>
</code></pre></div><p><strong>this指向</strong></p> <ul><li><p>this指的是调用函数的对象。</p></li> <li><p>在函数中用this设置的属性只有在实例化后才能调用。但是在外部用prototype设置的属性可以用prototype来调用。</p></li> <li><p>当构造函数没有返回对象时，会默认返回this,当返回了其它的除变量外，也会默认返回当前构造函数的this。</p></li> <li><p>当参数是匿名函数时，属于全局调用，所以调用对象是window，如setTimeout（function（）{}，1000）。</p></li> <li><p><code>(foo.bar = foo.bar)(); (foo.bar, foo.bar)()</code> 这种形式的经过逗号和等号运算符后 就是纯粹的函数了，没有对象引用，内部this指向window</p></li></ul> <p><code>(foo.bar)()</code> 这里的括号只是改变了运算顺序，这里实则没有什么影响，相当于 <code>foo.bar()</code></p> <h3 id="string"><a href="#string" class="header-anchor">#</a> String</h3> <ul><li><p><code>String.fromCharCode(97)</code> // a  <code>'a'.charCodeAt(0)</code> // 97</p></li> <li><p>字符串存储的大小：理论最大长度是2^53-1</p></li> <li><p>定义的字符串中需要用到 <code>\</code> 需要将其转义写为 <code>\\</code></p></li> <li><p>数字 Number 的最大最小范围：Number.MAX_VALUE Number.MIN_VALUE</p></li></ul> <p>Number类型统一按浮点数处理，64位存储，整数是按最大54位来算最大最小数的，否则会丧失精度 也就是超过 <code>2**53</code> 就会出错；某些操作（如数组索引还有位操作）按32位处理</p> <ul><li><p><code>+</code> 一元运算符 将元素转换为number类型，转换不了就返回NaN。</p></li> <li><p>Number.toString(param) param 可以是2-32 ，以 param 进制显示 ，默认是10，以10进制显示</p></li> <li><p>数字转字符串</p></li></ul> <p>toString() 最慢；1 + '' 字符串拼接 和 `` 模板字符串 都更快，速度基本相同</p> <ul><li><p>字符串转数字</p> <ol><li><p>Number(new Date()|new Boolean()|'123');</p></li> <li><p>parseInt(该参数会被强制转化为字符串 | 注意科学计数法, radix(一定要指定一个,不指定就会有不同的默认(一般是10)))  解析一个字符串并<strong>返回指定基数的十进制整数</strong> 返回的是十进制</p> <ul><li>https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/parseInt</li> <li><code>parseInt('2+9', 10)</code> 返回2 因为遇到非指定基数的字符就不解析了</li></ul></li> <li><p>parseInt(0.0000008) === 8  //true</p></li> <li><p>parseFloat(一个参数);</p></li> <li><p><code>+'10'</code> | <code>~~'10'</code>  // 10</p></li></ol></li> <li><p>~ (按位非运算) 与 ~~</p></li></ul> <div class="language- extra-class"><pre class="language-text"><code>~x 等同于 -(x+1)
~~x 等同于 -(-(x+1)+1)

应用： if([].indexOf(x) &gt; -1) {} =&gt; if(~[].indexOf(x)) {}  判断条件结果相同  后者结果为0 表示没有匹配到

向下取整 ~~1.23 =&gt; 1  比 parseInt 效率相对较高

</code></pre></div><ul><li><code>??</code> 空值合并操作符, 当左边的值为 null 或 undefined 时 返回右边操作数，否则返回左侧操作数</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">null ?? 1</span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 1</span>
<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">10 ?? 1</span><span class="token template-punctuation string">`</span></span> <span class="token comment">// 10</span>
</code></pre></div><ul><li><p><code>a?.b?.c</code>  等价于 <code>a&amp;&amp;a.b&amp;&amp;a.b.c</code> 返回 a.b.c 的值</p></li> <li><p>位运算</p></li></ul> <ol><li>逻辑位运算：&amp;(与) |(或) ^(异或，两个位相同为0，相异为1) ~(非 取反)</li></ol> <p>都不支持浮点数计算  所以可以取整 <code>(12.33 | 0)</code> 返回 12</p> <p>示例：0与1互换
<code>const fn = (n) =&gt; (n^1)</code></p> <ol start="2"><li>移位运算符 &lt;&lt;(左移)  &gt;&gt;(右移) &gt;&gt;&gt;(无符号右移)</li></ol> <p>求 2^n 值： <code>2^3 = 1&lt;&lt;3 = 32</code></p> <p>求一个数的1/2：<code>8/2 = 8&gt;&gt;1 = 4</code> 前提是2的倍数</p> <hr> <ul><li>字符串之间不能用三元运算符来拼接</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'&lt;div class=&quot;d-p-people&quot;&gt;'</span><span class="token operator">+</span>n<span class="token operator">===</span><span class="token number">1</span><span class="token operator">?</span>n<span class="token punctuation">:</span><span class="token number">2</span><span class="token operator">+</span><span class="token string">'&lt;/div&gt;'</span>  
</code></pre></div><ul><li>substring(start,end)<br>
若end比start小，会先交换这两个参数，若有负数变为0, end 下标取不到</li></ul> <p>substr(start, length)  // 建议不使用，将来会被废弃</p> <hr> <ul><li>charAt: <code>&quot;Hello world!&quot;.charAt(1)</code>  //e</li></ul> <hr> <p>当字符数少，且连接数量小于1000时就可以用&quot;+&quot;来连接字符串即可，若是过大，就用数组的join方式来连接，主要是考虑到老浏览器的速度比较慢；</p> <hr> <p>toLocaleLowerCase()和toLowerCase()区别主要是前者会根据地区的语言环境来进行编码。toUpperCase()</p> <hr> <p>字符串中可以用正则表达式的方法：</p> <ol><li>str.match();<br>
不设置全局，只返回第一个匹配值,并且返回子表达式的值。和属性index,input。<br>
设置全局，只返回所有的匹配值，不返回子表达式的值。</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str<span class="token operator">=</span><span class="token string">'name=hew;a=c;name=hi'</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>str<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token regex">/name=([^;]+)(;|$)/g</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  
<span class="token comment">// 返回 [&quot;name=hew;&quot;, &quot;name=hi&quot;]  </span>
</code></pre></div><ol start="2"><li>str.search();  //返回匹配字符开始的位置，没有返回-1</li> <li>str.replace(字符|正则，替换值|函数);  函数返回值为替换值，当用字符时不是全局替换，函数第一个参数为匹配结果字符，然后依次是子表达式值…,出现位置，被匹配字符串。返回被替换过后的新字符串</li> <li>str.split();   //以传入的字符或正则匹配的字符分割成数组，并删除该字符，必填，没有默认</li> <li>substr</li></ol> <h2 id="es6"><a href="#es6" class="header-anchor">#</a> es6</h2> <h3 id="字符串"><a href="#字符串" class="header-anchor">#</a> 字符串</h3> <p>${${}}  //能嵌套</p> <p><strong>字符串方法</strong></p> <blockquote><p>repeat(n):字符串重复次数</p></blockquote> <ul><li>n.123 //取整 'r'.repeat(2.23) // 'rr'</li> <li><code>-1&lt;n&lt;0</code>  //取0</li> <li>n=NaN  //取0</li> <li>n=字符串  //转换为数字</li> <li>n=负数（-1等）或Infinity  //报错</li></ul> <hr> <p>includes(), startsWith(), endsWith()  //都返回boolean值</p> <hr> <p>trim(): 两端删除空白字符,去掉换行</p> <h4 id="标签模板"><a href="#标签模板" class="header-anchor">#</a> 标签模板</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> str <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">a</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">12</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">b</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token number">34</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span>
<span class="token keyword">const</span> <span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 函数方式调用</span>
fn<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">str</span><span class="token template-punctuation string">`</span></span> 
<span class="token comment">// 相当于fn(['a','b',''], 12, 34)</span>
</code></pre></div><h3 id="class"><a href="#class" class="header-anchor">#</a> class</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Test</span> <span class="token punctuation">{</span>
    <span class="token comment">// 私有属性 es2019</span>
    #name<span class="token punctuation">;</span> 
 
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span> n</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 私有属性</span>
        <span class="token keyword">let</span> _name <span class="token operator">=</span> <span class="token string">'hew'</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>#name <span class="token operator">=</span> n

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">setName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            _name <span class="token operator">=</span> name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> _name<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token comment">/* 对应es5 的构造函数 */</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> <span class="token number">12222</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x <span class="token operator">||</span> <span class="token string">'original x'</span>

        <span class="token comment">/* 这里类似使用原来的构造函数添加 prototype */</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>m <span class="token operator">=</span> <span class="token number">23333</span> 
    <span class="token punctuation">}</span>

    <span class="token comment">/* 类的所有方法都是定义在类的prototype上 */</span>
    <span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>#name<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>x
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">new</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getX</span><span class="token punctuation">(</span><span class="token punctuation">)</span>   <span class="token comment">// 'original x'</span>
</code></pre></div><ul><li>在 class 中用 = 声明变量属于 Field declarations ，实际将被挂载到 实例属性上读取优于原型链</li></ul> <h4 id="静态属性和方法"><a href="#静态属性和方法" class="header-anchor">#</a> 静态属性和方法</h4> <ul><li>静态属性： 在属性前加 static 或是  ClassName.propertyName = 'xx' 方式设置</li> <li>在方法前加 static</li> <li>只能通过类来调用 不能被子类继承（静态方法不行，静态属性可以）,静态方法中的this指向类而非实例</li></ul> <h4 id="继承-2"><a href="#继承-2" class="header-anchor">#</a> 继承</h4> <p>super ：表示父类的构造函数，用来新建父类的this对象</p> <p>super(参数) 这里的参数是传给父类的构造函数</p> <p>子类必须在 constructor 方法中调用super方法，否则新建实例时会报错。这是因为子类没有自己的this对象，而是继承父类的this对象，然后对其进行加工。如果不调用super方法，子类就得不到this对象。constructor 中this指向实例</p> <p>ES6 的继承机制，先创造父类的实例对象this（所以必须先调用super方法），然后再用子类的构造函数修改this</p> <h4 id="单向链表"><a href="#单向链表" class="header-anchor">#</a> 单向链表</h4> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">class</span> <span class="token class-name">Node</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ListNode</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span>
        <span class="token comment">/* 头指针 */</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> <span class="token keyword">null</span>
    <span class="token punctuation">}</span>

    <span class="token function">append</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> node <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>head<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">let</span> endHead <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>head
            <span class="token comment">/* 找到最后一个 node */</span>
            <span class="token keyword">while</span><span class="token punctuation">(</span>endHead<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                endHead <span class="token operator">=</span> endHead<span class="token punctuation">.</span>next
            <span class="token punctuation">}</span>
            endHead<span class="token punctuation">.</span>next <span class="token operator">=</span> node
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>head <span class="token operator">=</span> node
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token operator">++</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="promise"><a href="#promise" class="header-anchor">#</a> Promise</h3> <p>一种异步编程解决方案</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> promise<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 一些操作，然后判断是 resolve  还是 reject</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'这里传递的参数将在then中接收'</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><p>Promise.reject(reason) 返回一个新的 Promise 实例，该实例的状态为rejected</p></li> <li><p>Promise.resolve('xx') 等价于 new Promise(resolve =&gt; resolve('xx')) 注意特殊得参数会有不同结果 请参考文档</p></li></ul> <ol><li><p>三种状态Pending，Resolve，Rejected</p></li> <li><p>var promise=new Promise(function(resolve,reject){})。<br>
resolve和reject由js引擎提供。<br>
resolve将Promise对象的状态从“未完成”变为“成功”<br>
reject将Promise对象的状态从“未完成”变为“失败”</p></li> <li><p><code>promise.then(function(value){//success}), function(value){//failure})</code>;<br>
then()方法作用是：为Promise实例添加状态改变时的回调函数，分别为resolve和reject指定回掉方法。<br>
Promise.prototype.then()。<br>
then()中返回的值将会被作为参数传递给下一个then(),<strong>如果上一个then返回的是一个Promise对象</strong>，这时后一个回调函数(即then)，会等待该Promise的状态改变来调用回调函数。</p></li> <li><p>catch()<br>
Promise对象的错误具有冒泡性质，会一直向后传递，直到被捕获为止。<br>
一般来说，不要在then中定义使用Reject状态的回调函数，而是用catch。</p></li> <li><p><code>Promise.all([Promise实例])</code>  返回一个Promise实例</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> pa <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>p1<span class="token punctuation">,</span>p2<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">// 所有的 p1 p2 实例的 resolve 执行后， 才会执行 pa 的resolve</span>
pa<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// 返回所有实例的 resolve 传入的值构成的数组</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span>
<span class="token comment">// 等价于</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">'foo'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> p <span class="token operator">=</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'出错了'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 等同于</span>
<span class="token keyword">const</span> p <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">reject</span><span class="token punctuation">(</span><span class="token string">'出错了'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><p>串行promise (异步引入高德地图，参见 vue-admin -&gt; utils)</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> loadA <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise 1 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> loadB <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise 2 start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> loadA<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise 1 end'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> loadB
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'promise 2 end'</span><span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">'finish'</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><hr> <h3 id="map-weakmap-set-weakset"><a href="#map-weakmap-set-weakset" class="header-anchor">#</a> Map/Weakmap Set/Weakset</h3> <p><a href="https://es6.ruanyifeng.com/#docs/set-map" target="_blank" rel="noopener noreferrer">更多用法 参考<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>map 和 set 有 forEach 方法可以用</li></ul> <ol><li>Set: 和数组类似但是，但是成员唯一，不能使用下标方式获取值</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token keyword">set</span><span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Set</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span>   <span class="token comment">// 这里的参数可以是数组或类似数组的对象{0:'a',1:'b',2:'c'}。  </span>
<span class="token comment">// 在set内部两个NAN是相等的，两个对象总是不等的</span>
<span class="token comment">// 四个方法：  </span>
<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 添加值 返回set结构本身  </span>
<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 删除值 返回布尔值，表示是否成功  </span>
<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// 检测是否为set成员 返回布尔值  </span>
<span class="token keyword">set</span><span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 清除所有成员 没有返回值</span>
</code></pre></div><ol start="2"><li><p>WeakSet</p> <ul><li>成员只能是对象</li> <li>构造函数可以接收一个数组为参数，数组的成员将被设置为 WeakSet 的成员，所以数成员必须为对象</li> <li>WeakSet 中的对象都为弱引用，及当检测到值没有被其它地方引用时，会直接回收内存，不考虑 WeakSet 还在引用</li> <li>不能遍历</li></ul></li> <li><p>Map 是键值对的形式的，但是键的形式不只是字符 可以遍历</p></li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'hew'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'code'</span><span class="token punctuation">,</span> <span class="token number">10001</span><span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 构造函数接受一个数组，数组的成员是表示键值对的数组</span>
<span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'kk'</span> <span class="token punctuation">}</span>
map<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'add a object key'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// add a object key</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// hew</span>
</code></pre></div><ol start="4"><li>WeakMap
<ul><li>只接受对象作为键名</li> <li>键名所指向的对象，不计入垃圾回收机制</li> <li>不能遍历</li></ul></li></ol> <hr> <h3 id="函数"><a href="#函数" class="header-anchor">#</a> 函数</h3> <ul><li>函数重载：js没有，即多个函数，它们的函数名称相同，但是参数个数、类型、顺序不同</li></ul> <hr> <p>function a(b,c=1){}</p> <ul><li>定义了默认值的参数，应该是函数的尾参数,非尾部的参数设置默认值，实际上这个参数是没法省略的,除非用undefined代替，以触发该参数等于默认值。</li> <li>设置了参数的默认值，函数进行声明初始化时，参数会形成一个单独的作用域（context）。初始化结束，作用域消失。不设置参数默认值时，不会出现的。</li></ul> <hr> <p>箭头函数 <code>(param,..) =&gt; {}</code></p> <ul><li>不支持new方法 没有 arguments，super或new.target</li> <li>不会改变指向对象（例如call，apply方法）</li> <li>箭头函数没有它自己的this值，它内部的this继承自外层作用域(箭头函数绑定父级上下文)，但是function函数是无论你需不需要都会自动接收一个this，</li> <li>在定义对象方法的时候必须用非箭头函数定义，这些函数会从调用者的作用域获取一个有意义的this</li> <li>内部的this 总是指向函数定义生效时所在的对象，而不是指向运行时所在的作用域。</li></ul> <p>a={<br>
name:()=&gt;{this}  //这里的this指window，类似匿名函数<br>
}</p> <h3 id="扩展运算符"><a href="#扩展运算符" class="header-anchor">#</a> 扩展运算符</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">[</span><span class="token operator">...</span>null<span class="token punctuation">,</span> <span class="token operator">...</span>undefined<span class="token punctuation">]</span> <span class="token comment">// 抛出异常</span>
<span class="token punctuation">{</span><span class="token operator">...</span>null<span class="token punctuation">,</span> <span class="token operator">...</span>undefined<span class="token punctuation">}</span> <span class="token comment">// {}</span>
</code></pre></div><p>多个参数（用于函数调用）或者多个元素（用于数组字面量(直接使用的数据值如1,2)）或者多个变量（用于解构赋值）。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> args<span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>  
<span class="token keyword">var</span> <span class="token function-variable function">fn</span><span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>  
<span class="token function">fn</span><span class="token punctuation">(</span>…args<span class="token punctuation">)</span><span class="token punctuation">;</span>  

<span class="token keyword">var</span> arr1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
<span class="token keyword">var</span> arr2 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
arr1<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token operator">...</span>arr2<span class="token punctuation">)</span><span class="token punctuation">;</span>  
</code></pre></div><ul><li>数组</li></ul> <p><code>[...a, ...b]</code> 不会覆盖重复的值， 不同于对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token punctuation">{</span> <span class="token number">0</span><span class="token punctuation">:</span> a<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">:</span> b<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">:</span> c  <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">6</span><span class="token punctuation">]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">,</span>c<span class="token punctuation">)</span> <span class="token comment">// 4,5,6</span>

<span class="token keyword">var</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">,</span> c<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  

<span class="token keyword">var</span> <span class="token punctuation">[</span><span class="token punctuation">,</span><span class="token punctuation">,</span>third<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>third<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// c</span>

<span class="token keyword">const</span> <span class="token punctuation">[</span>first<span class="token punctuation">,</span> <span class="token operator">...</span>rest<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'a'</span><span class="token punctuation">,</span> <span class="token string">'b'</span><span class="token punctuation">,</span> <span class="token string">'c'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ['b', 'c']</span>
<span class="token operator">...</span>rest 这种给数组机构赋值的，只能放在最后

</code></pre></div><ul><li>对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> foos<span class="token punctuation">,</span> bar<span class="token punctuation">:</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">'lorem'</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">'ipsum'</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foos<span class="token punctuation">)</span> <span class="token comment">//lorem   </span>
<span class="token comment">// 当变量名和后面属性名一致时可以简化  </span>
<span class="token keyword">var</span> <span class="token punctuation">{</span> foo<span class="token punctuation">,</span> bar <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> foo<span class="token punctuation">:</span> <span class="token string">&quot;lorem&quot;</span><span class="token punctuation">,</span> bar<span class="token punctuation">:</span> <span class="token string">&quot;ipsum&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// {...Object1,...Object2}: 后一个对象的属性会覆盖前一个对象的相同属性  </span>
<span class="token comment">// 详见 Object.assign() </span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> a<span class="token punctuation">,</span> b<span class="token punctuation">:</span>b<span class="token operator">=</span><span class="token number">9</span><span class="token punctuation">,</span> c<span class="token operator">=</span><span class="token string">'no c'</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span> a<span class="token punctuation">:</span> <span class="token number">12</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span> 
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">,</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 12, null on o</span>
<span class="token comment">// 当被赋予的值是null时，是不会用默认值将其覆盖的，默认值只会赋值为undefined的情况,当没有属性c时才会使用默认值</span>
<span class="token comment">// Babel是将其解析为判断值是否等于void 0 也就是undefined</span>
</code></pre></div><ul><li>剩余操作符（the rest operator）</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span>…b<span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>  <span class="token comment">//[2,3,4] </span>
</code></pre></div><hr> <h3 id="模块功能"><a href="#模块功能" class="header-anchor">#</a> 模块功能</h3> <ul><li><p>在纯js环境中使用 <code>&lt;script type=&quot;module&quot;&gt;&lt;/script&gt;</code> 需要设置type  并且要启动服务来执行</p></li> <li><p><code>import.meta</code> 打印执行这个语句的文件地址   // 类似 http://127.0.0.1:5500/index.html</p></li></ul> <p>ES6 的模块自动采用严格模式，不管你有没有在模块头部加上&quot;use strict&quot;;。</p> <ul><li><p>es6 模块不是对象  而是通过export输出的代码</p></li> <li><p>es6 模块是在编译时加载</p></li> <li><p>export var m=1 ;export function f(){};(正确);<br>
var m=1;export m;(错误)<br>
注意与内部变量建立一一对应关系.<br>
推荐用法 export {m,f};<br>
var n = 1;<br>
export {n as m};</p></li> <li><p>export 命名可以出现在任何位置，必须是模块顶层。</p></li> <li><p>引入的同一个模块，如果不做拷贝，当修改其原始值时，会影响所有引用该模块的地方</p></li></ul> <hr> <p>export 与 export default 的区别在于import的时候是不是需要用{}，后者不用。</p> <hr> <ul><li>import '模块名' // 表示引入并执行该模块，多次重复调用只执行一次 <code>import a.js</code></li> <li>import 后的文件位置的.js可以省略</li> <li>由于import是静态执行，所以不能使用表达式和变量，这些只有在运行时才能得到结果的语法结构。</li></ul> <hr> <p>整体加载</p> <ul><li>当没有默认导出时要用 * 防止报错  import * as api from './controllers/api'</li> <li>import * as <strong>obj</strong> from 'somefile';(被引入文件是输出多个export，通过该方法集合为一个对象)</li> <li>是可以静态分析的，所以不允许运行时改变</li> <li>允许 obj= 'hello';</li></ul> <hr> <p>export default</p> <ul><li>因为多了个default  所以可以理解为将default与模块内部的变量进行了对应 。</li></ul> <div class="language- extra-class"><pre class="language-text"><code>export {add as default}; 等同于export default add;     

import { default as xxx } from 'modules'; 等同于import xxx from 'modules';

可同时引入default内容和单个内容 import a, { each } from 'export';
</code></pre></div><hr> <p>扩展运算符内部调用的是数据结构的 Iterator 接口，因此只要具有 Iterator 接口的对象，都可以使用扩展运算符</p> <hr> <h3 id="函数扩展"><a href="#函数扩展" class="header-anchor">#</a> 函数扩展</h3> <ol><li>尾递归（只存在一个帧调用，所以效率高，不会出现栈溢出的情况）</li></ol> <p>尾调用：一个函数执行的最后一步是将另外一个函数调用并返回</p> <p>每个函数在调用另一个函数的时候，并没有 return 该调用，所以JS引擎会认为你还没有执行完，会保留你的调用帧，所以在return后调用函数，不需要保留外层函数的调用记录</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token parameter">p</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token function">b</span><span class="token punctuation">(</span>p<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="数组的扩展"><a href="#数组的扩展" class="header-anchor">#</a> 数组的扩展</h3> <ol><li>扩展运算符与函数参数结合</li> <li>当参数是数组时不再依赖apply拆分数组为参数</li> <li>任何 Iterator 接口的对象，都可以通过...扩展运算符转为真正的数组</li></ol> <hr> <h3 id="proxy-defineproperty-defineproperties"><a href="#proxy-defineproperty-defineproperties" class="header-anchor">#</a> Proxy | defineProperty | defineProperties</h3> <p><strong>拦截</strong> 对目标对象的访问</p> <h4 id="proxy-target-handler"><a href="#proxy-target-handler" class="header-anchor">#</a> Proxy(target,handler)</h4> <p>target：要拦截的对象</p> <p>handler：值为对象，拦截行为</p> <p>Proxy 是针对Proxy实例的，并不针对目标对象(target)</p> <p>如果handler不设拦截，访问proxy就等同与 target</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> target <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'hew'</span>
<span class="token punctuation">}</span>
<span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// 三个参数，receiver表示操作行为所针对的对象，一般就是proxy实例</span>
    <span class="token keyword">get</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span>key<span class="token punctuation">,</span>receiver<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ReferenceError</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>key<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, does not exist</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// 严格模式下，如果没有返回true会报错</span>
    <span class="token comment">// 如果目标对象的属性为writadble，那相对于该属性，set方法失效</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'age'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>Number<span class="token punctuation">.</span><span class="token function">isInteger</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">TypeError</span><span class="token punctuation">(</span><span class="token string">'is not integer'</span><span class="token punctuation">)</span>
            <span class="token keyword">if</span><span class="token punctuation">(</span>value<span class="token operator">&gt;</span><span class="token number">10</span><span class="token punctuation">)</span> <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RangeError</span><span class="token punctuation">(</span><span class="token string">'need less than 10'</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

        target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// 拦截函数的调用，call，apply操作</span>
    <span class="token function">apply</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> ctx<span class="token punctuation">,</span> args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> args
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">deleteProperty</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'delete'</span><span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">delete</span> target<span class="token punctuation">[</span>key<span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> proxy <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Proxy</span><span class="token punctuation">(</span>target<span class="token punctuation">,</span> handler<span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>proxy<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Object.defineProperty</li></ul> <p>Object.defineProperty(obj, 属性名称, descriptor),在现有对象上新建一个属性，或修改现有属性，并返回这个对象</p> <p>Object.defineProperties(obj, props)</p> <p>只能对属性进行数据劫持，所以需要深度遍历整个对象</p> <p>对于数组不能监听到数据的变化</p> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>object1<span class="token punctuation">,</span> <span class="token string">'property1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  writable<span class="token punctuation">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

props<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    property<span class="token punctuation">:</span> descriptor
<span class="token punctuation">}</span>
descriptor<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    configurable<span class="token punctuation">:</span> 默认<span class="token boolean">false</span>；表示属性是否能删除，以及除writeable以外的属性可否被修改；
    writable<span class="token punctuation">:</span>  <span class="token comment">// 默认 false 属性值可否被修改</span>
    enumerable<span class="token punctuation">:</span> <span class="token comment">// 默认 false  属性是否可以被 for...in 和 Object.keys() 获取</span>
    value<span class="token punctuation">:</span> 属性值
    <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 这里注意 又使用 obj.key  形成死循环</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>  当设置了<span class="token keyword">get</span>或<span class="token keyword">set</span>后不能设置value或writeable
<span class="token punctuation">}</span>
</code></pre></div><hr> <h3 id="object-create-proto-propertiesobject"><a href="#object-create-proto-propertiesobject" class="header-anchor">#</a> Object.create(proto, [propertiesObject])</h3> <p>proto: 新对象的__proto__</p> <p>propertiesObject：可选参数，添加到原型上的枚举属性，以及这些属性的描述，名称等，且对应Object.defineProperties()的第二个参数</p> <p>返回值：指定了原型对象和属性的新对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> a <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'hew'</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    age<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token keyword">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;can't set&quot;</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> value
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token keyword">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token number">250</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
a<span class="token punctuation">.</span>age<span class="token operator">=</span><span class="token number">12</span>  <span class="token comment">// can't set 12</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token comment">// { age: 250, get age: f, get age: f, _proto_: { name: 'hew' } }</span>

</code></pre></div><hr> <h3 id="装饰器-decorator"><a href="#装饰器-decorator" class="header-anchor">#</a> 装饰器 Decorator</h3> <p>参考 <code>react-admin/src/pages/practice/decorator.js</code></p> <ul><li><p>装饰类时：添加的静态属性是 name 时，可能报错，不能修改只读属性</p></li> <li><p>装饰类方法：提供了三个参数 target, name, descriptor</p></li></ul> <hr> <h2 id="es7-es8"><a href="#es7-es8" class="header-anchor">#</a> ES7-ES8</h2> <h3 id="es7"><a href="#es7" class="header-anchor">#</a> es7</h3> <ul><li><p>includes：参考上文</p></li> <li><p>求幂 Math.pow() 的简洁写法 <code>Math.pow(3, 3) === 3 ** 3</code></p></li></ul> <h3 id="es8"><a href="#es8" class="header-anchor">#</a> es8</h3> <ul><li><p>String.prototype.padStart(总长度, 被填充字符串：默认空格) // 返回新的字符串
'789'.padStart(10, '123')  // &quot;1231231789&quot;</p></li> <li><p>padEnd() 参数同上，是在字符串尾部添加</p></li> <li><p>String.prototype.padEnd(总长度, 被填充字符串)
'123'.padEnd(5, '789')  // &quot;12378&quot;</p></li> <li><p>Object.entries()
<code>Object.entries({ a: 1, b: 2 }) // [['a', 1], ['b', 2]]</code></p></li> <li><p>Object.values()</p></li> <li><p>异步函数 async/await</p></li> <li><p>Object.getOwnPropertyDescriptors(obj) // 返回对象所有自身属性（非继承属性）的描述对象</p></li></ul> <p>【es5】Object.getOwnPropertyDescriptor(obj, key) // 返回某个对象属性的描述对象</p> <h3 id="es2019"><a href="#es2019" class="header-anchor">#</a> es2019</h3> <ul><li>展平数组</li></ul> <p>flat(展平层级:数字(默认1)或Infinity)  会过滤数组中的空值 返回新数组</p> <p>flatMap(() =&gt; {}): 对原数组执行一个map操作，然后再执行flat 只能展开一层数组  返回新数组</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">/* 方式一 */</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">,</span><span class="token number">7</span><span class="token punctuation">,</span><span class="token punctuation">,</span><span class="token number">9</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">flat</span><span class="token punctuation">(</span>infinity<span class="token punctuation">)</span> <span class="token comment">// [1,2,3,5]</span>

<span class="token comment">/* 方式二 */</span>
<span class="token keyword">function</span> <span class="token function">flatArray</span><span class="token punctuation">(</span><span class="token parameter">arr</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> arr<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">r<span class="token punctuation">,</span> c</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">?</span> r<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">flatArray</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">:</span> r<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>Object.fromEntries() 将键值对数组转换为对象</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'hew'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'name'</span><span class="token punctuation">,</span> <span class="token string">'hew'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'scope'</span><span class="token punctuation">,</span> <span class="token string">'12'</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// {name: 'hew', scope: '12'}</span>

Object<span class="token punctuation">.</span><span class="token function">fromEntries</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">URLSearchParams</span><span class="token punctuation">(</span><span class="token string">'name=hew&amp;scope=12'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// {name: 'hew', scope: '12'}</span>
</code></pre></div><ul><li>删除字符串开头的空格</li></ul> <p>' abcdefg'.trimStart() 同 trimLeft()</p> <p>'abcdefg  '.trimEnd() 同 trimRight()</p> <ul><li><p>try catch 中 catch的参数可以省略</p></li> <li><p>Symble 加了一个description的只读属性 返回描述</p></li></ul></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/blog/note/language/html.html">html</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.a3fab05b.js" defer></script><script src="/blog/assets/js/2.8013534f.js" defer></script><script src="/blog/assets/js/55.9e8b945b.js" defer></script>
  </body>
</html>
